diff -urNp -x '*.orig' librepo-1.8.1.org/CMakeLists.txt librepo-1.8.1/CMakeLists.txt
--- librepo-1.8.1.org/CMakeLists.txt	2017-09-01 17:45:17.000000000 +0200
+++ librepo-1.8.1/CMakeLists.txt	2021-03-05 22:44:35.111104671 +0100
@@ -32,7 +32,6 @@ PKG_SEARCH_MODULE(LIBCRYPTO REQUIRED lib
 FIND_PACKAGE(EXPAT REQUIRED)
 FIND_PACKAGE(CURL REQUIRED)
 FIND_PACKAGE(Gpgme REQUIRED)
-FIND_PACKAGE(Xattr REQUIRED)
 
 INCLUDE_DIRECTORIES(${GLIB2_INCLUDE_DIRS})
 
diff -urNp -x '*.orig' librepo-1.8.1.org/librepo/checksum.c librepo-1.8.1/librepo/checksum.c
--- librepo-1.8.1.org/librepo/checksum.c	2017-09-01 17:45:17.000000000 +0200
+++ librepo-1.8.1/librepo/checksum.c	2021-03-05 22:44:35.111104671 +0100
@@ -26,7 +26,8 @@
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <unistd.h>
-#include <attr/xattr.h>
+#include <errno.h>
+#include <sys/xattr.h>
 #include <openssl/evp.h>
 
 #include "cleanup.h"
diff -urNp -x '*.orig' librepo-1.8.1.org/librepo/downloader.c librepo-1.8.1/librepo/downloader.c
--- librepo-1.8.1.org/librepo/downloader.c	2017-09-01 17:45:17.000000000 +0200
+++ librepo-1.8.1/librepo/downloader.c	2021-03-05 22:44:35.111104671 +0100
@@ -30,7 +30,7 @@
 #include <sys/stat.h>
 #include <fcntl.h>
 #include <curl/curl.h>
-#include <attr/xattr.h>
+#include <sys/xattr.h>
 
 #include "downloader.h"
 #include "downloader_internal.h"
diff -urNp -x '*.orig' librepo-1.8.1.org/tests/test_checksum.c librepo-1.8.1/tests/test_checksum.c
--- librepo-1.8.1.org/tests/test_checksum.c	2017-09-01 17:45:17.000000000 +0200
+++ librepo-1.8.1/tests/test_checksum.c	2021-03-05 22:44:35.111104671 +0100
@@ -6,7 +6,8 @@
 #include <sys/types.h>
 #include <sys/stat.h>
 #include <fcntl.h>
-#include <attr/xattr.h>
+#include <errno.h>
+#include <sys/xattr.h>
 
 #include "librepo/util.h"
 #include "librepo/checksum.h"
